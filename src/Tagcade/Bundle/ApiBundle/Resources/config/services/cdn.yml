services:

    touki.connection:
        class: Touki\FTP\ConnectionInterface
        factory_service: tagcade.service.cdn.ftp_connection_factory
        factory_method: getConnection

    tagcade.service.cdn.ftp_connection_factory:
        class: Tagcade\Service\Cdn\FtpConnectionFactory
        arguments:
            - %tc.cdn_config%

    tagcade.service.cdn.cdn_updater:
        class: Tagcade\Service\Cdn\CDNUpdater
        arguments:
            - @touki.connection
            - @tagcade.cache.v2.tag_cache
            - %tc.cdn_config%
