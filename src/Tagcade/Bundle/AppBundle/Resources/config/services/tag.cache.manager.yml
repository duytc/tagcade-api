services:

    tagcade.cache.legacy.cache.tag.redis_namespace_cache:
        class: Tagcade\Cache\Legacy\Cache\Tag\RedisNamespacedCache
        arguments:
            - %tc.legacy.tag_cache.redis_host%
            - %tc.legacy.tag_cache.redis_port%

    tagcade.cache.legacy.tag_cache:
        class: Tagcade\Cache\Legacy\TagCache
        arguments:
            - @tagcade.cache.legacy.cache.tag.redis_namespace_cache
            - @tagcade.domain_manager.display_ad_slot

    tagcade.cache.dynamic_ad_slot.tag_cache:
        class: Tagcade\Cache\DynamicAdSlot\TagCache
        arguments:
            - @tagcade.cache.legacy.cache.tag.redis_namespace_cache
            - @tagcade.domain_manager.display_ad_slot
            - @tagcade.domain_manager.dynamic_ad_slot
            - @tagcade.domain_manager.native_ad_slot
            - @tagcade.repository.expression

    tagcade.cache.tag_cache_manager:
        class: Tagcade\Cache\TagCacheManager
        arguments:
            -
                - @tagcade.cache.legacy.tag_cache
                - @tagcade.cache.dynamic_ad_slot.tag_cache
