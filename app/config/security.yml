security:
    encoders:
        #Tagcade\Bundle\UserBundle\Entity\User:
        #    algorithm: bcrypt
        #    cost:      15

        Tagcade\Bundle\UserBundle\Entity\User: sha512

    role_hierarchy:
        ROLE_PUBLISHER:             ROLE_USER
        ROLE_PUBLISHER_SUB_ACCOUNT: ROLE_USER
        ROLE_ADMIN:                 ROLE_USER
        ROLE_SUPER_ADMIN:           ROLE_ADMIN

    providers:
        fos_userbundle:
            id: fos_user.user_provider.username

    firewalls:
        dev:
            pattern:  ^/(_(profiler|wdt)|css|images|js)/
            security: false

        apidoc:
            pattern:  ^/docs/?$
            security: false

        gettoken:
            pattern:  ^/auth/getToken$
            stateless: true
            gfreeau_get_jwt:
                username_parameter: username
                password_parameter: password
                post_only: true
                success_handler: lexik_jwt_authentication.handler.authentication_success
                throw_exceptions: true

        api:
            pattern:   ^/api/
            stateless: true
            lexik_jwt:
                throw_exceptions: true
                create_entry_point: false

    access_control:
        - { path: ^/api/, roles: ROLE_USER }